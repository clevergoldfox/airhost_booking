{% include 'layout/header.html' %}

{% include 'layout/topbar.html' %}

{% include 'layout/sidebar.html' %}



<!-- MAIN PANEL -->
<div id="main" role="main">

    <!-- RIBBON -->
    <div id="ribbon">

        <span class="ribbon-button-alignment">
            <span id="refresh" class="btn btn-ribbon" data-action="resetWidgets" data-title="refresh" rel="tooltip"
                data-placement="bottom"
                data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings."
                data-html="true">
                <i class="fa fa-refresh"></i>
            </span>
        </span>

        <!-- breadcrumb -->
        <ol class="breadcrumb">
            <li>Home</li>
            <li>ユーザー管理</li>
            <li></li>
        </ol>
        <!-- end breadcrumb -->

        <!-- You can also add more buttons to the
				ribbon for further usability

				Example below:

				<span class="ribbon-button-alignment pull-right">
				<span id="search" class="btn btn-ribbon hidden-xs" data-title="search"><i class="fa-grid"></i> Change Grid</span>
				<span id="add" class="btn btn-ribbon hidden-xs" data-title="add"><i class="fa-plus"></i> Add</span>
				<span id="search" class="btn btn-ribbon" data-title="search"><i class="fa-search"></i> <span class="hidden-mobile">Search</span></span>
				</span> -->

    </div>
    <!-- END RIBBON -->



    <!-- MAIN CONTENT -->
    <div id="content">

        <!-- row -->
        <div class="row">

            <!-- col -->
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h1 class="page-title txt-color-blueDark">

                    <!-- PAGE HEADER -->
                    <i class="fa-fw fa fa-home"></i>
                    ユーザー管理
                    <span>>
                    </span>
                </h1>
            </div>
            <!-- end col -->

            <!-- right side of the page with the sparkline graphs -->
            <!-- col -->
            <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
                <!-- sparks -->
                <ul id="sparks">
                    <li class="sparks-info">
                        <h5> My Income <span class="txt-color-blue">$47,171</span></h5>
                        <div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">
                            1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471
                        </div>
                    </li>
                    <li class="sparks-info">
                        <h5> Site Traffic <span class="txt-color-purple"><i class="fa fa-arrow-circle-up"
                                    data-rel="bootstrap-tooltip" title="Increased"></i>&nbsp;45%</span></h5>
                        <div class="sparkline txt-color-purple hidden-mobile hidden-md hidden-sm">
                            110,150,300,130,400,240,220,310,220,300, 270, 210
                        </div>
                    </li>
                    <li class="sparks-info">
                        <h5> Site Orders <span class="txt-color-greenDark"><i
                                    class="fa fa-shopping-cart"></i>&nbsp;2447</span></h5>
                        <div class="sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm">
                            110,150,300,130,400,240,220,310,220,300, 270, 210
                        </div>
                    </li>
                </ul>
                <!-- end sparks -->
            </div>
            <!-- end col -->

        </div>
        <!-- end row -->

        <!--
					The ID "widget-grid" will start to initialize all widgets below 
					You do not need to use widgets if you dont want to. Simply remove 
					the <section></section> and you can use wells or panels instead 
					-->

        <!-- widget grid -->
        <section id="widget-grid" class="">

            <!-- row -->
            <div class="row">

                <!-- NEW WIDGET START -->
                <article class="col-xs-4 col-sm-4 col-md-4 col-lg-4">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-darken" data-widget-editbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="fa fa-user"></i> </span>
                            <h2>新しいユーザー</h2>

                        </header>

                        <!-- widget div-->
                        <div>
				
                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->
        
                            </div>
                            <!-- end widget edit box -->
        
                            <!-- widget content -->
                            <div class="widget-body no-padding">
        
                                <form class="smart-form" id="createuser-form" enctype="multipart/form-data">
                                    <header>
                                        新しいユーザー
                                    </header>
        
                                    <fieldset class="col col-12 col-md-12 col-lg-12">
                                        <section class="col col-6 col-md-6 col-lg-6 col-xs-12">
                                            <label class="label">氏名(姓)</label>
                                            <label class="input" for="lastname">
                                                <input type="text" name="lastname" id="lastname" maxlength="10">
                                            </label>
                                            <!-- <div class="note">
                                                <strong>Maxlength</strong> is automatically added via the "maxlength='#'" attribute
                                            </div> -->
                                        </section>
                                        <section class="col col-6 col-md-6 col-lg-6 col-xs-12">
                                            <label class="label">氏名(名)</label>
                                            <label class="input" for="firstname">
                                                <input type="text" name="firstname" id="firstname" maxlength="10">
                                            </label>
                                            <!-- <div class="note">
                                                <strong>Maxlength</strong> is automatically added via the "maxlength='#'" attribute
                                            </div> -->
                                        </section>
                                    
                                    </fieldset>

                                    <fieldset class="col col-12 col-md-12 col-lg-12">
                                        <section class="col col-8 col-md-8 col-lg-8 col-xs-12">
                                            <label class="label">性別</label>
                                            <div class="inline-group">
                                                <label class="radio">
                                                    <input type="radio" name="gender" value="男性" checked="checked">
                                                    <i></i>男性</label>
                                                <label class="radio">
                                                    <input type="radio" name="gender" value="女性">
                                                    <i></i>女性</label>
                                                <label class="radio">
                                                    <input type="radio" name="gender" value="-">
                                                    <i></i>回答しない</label>
                                            </div>
                                            <br>
                                            <label class="label">生年月日</label>
                                            <label class="input"> <i class="icon-append fa fa-calendar"></i>
                                                <input type="text" name="birth" id="birth" placeholder="--/--/----" class="datepicker" data-dateformat='dd/mm/yy'>
                                            </label>
                                            <label class="label">メールアドレス</label>
                                            <label class="input" for="email">
                                                <input type="email" name="email" id="email" maxlength="50">
                                            </label>
                                            <label class="label">権限</label>
                                            <div class="inline-group">
                                                <label class="radio">
                                                    <input type="radio" name="role" value="admin" >
                                                    <i></i>経営者</label>
                                                <label class="radio">
                                                    <input type="radio" name="role" value="manager">
                                                    <i></i>マネージャー</label>
                                                <label class="radio">
                                                    <input type="radio" name="role" value="staff" checked="checked">
                                                    <i></i>スタッフ</label>
                                            </div>
                                            <br>
                                            <fieldset id="passtoogle">
                                                <label class="label">パスワード</label>
                                                <label class="input" for="password">
                                                    <i class="icon-append fa fa-eye passhinttoogle"></i>
                                                    <input type="password" name="password" id="password" maxlength="20">
                                                </label>
                                                <label class="label">パスワード確認</label>
                                                <label class="input" for="confirm">
                                                    <i class="icon-append fa fa-eye passhinttoogle"></i>
                                                    <input type="password" id="confirm" maxlength="20">
                                                </label>
                                            </fieldset>
                                        </section>

                                        <section class="col col-4 col-md-4 col-lg-4 col-xs-12">
                                            <label class="label">プロフィール画像 </label>
                                            <img id="avatarimg" src="{{ url_for('static', filename='img/avatars/default.png')}}" alt="プロフィール画像">
                                            <div class="d-none input input-file ">
                                                <span class="button"><input type="file" id="avatar" name="avatar" accept=".jpg, .png, .bmp" onchange="this.parentNode.nextSibling.value = this.value">閲覧する</span><input type="text" placeholder="プロフィール画像" readonly=""/>
                                            </div>
                                        </section>
                                    </fieldset>

                                    <footer>
                                        <button type="submit" id="usersubbtn" class="btn btn-primary">
                                            登録
                                        </button>
                                        <button type="reset" class="btn btn-default" id="clearform">
                                            クリア
                                        </button>
                                    </footer>
                                </form>
        
                            </div>
                            <!-- end widget content -->
        
                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <!-- WIDGET END -->

                <!-- NEW WIDGET START -->
                <article class="col-xs-8 col-sm-8 col-md-8 col-lg-8">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-darken" data-widget-editbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                            <h2>ユーザー一覧</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">

                                <table id="users_table" class="table table-striped table-bordered table-hover"
                                    width="100%">
                                    <thead>
                                        <tr>
                                            <th>No</th>
                                            <th data-hide>プロフィール画像</th>
                                            <th data-hide>氏名(姓)</th>
                                            <th data-hide>氏名(名)</th>
                                            <th data-hide>性別</th>
                                            <th data-hide>生年月日</th>
                                            <th data-hide>メールアドレス</th>
                                            <th data-hide>権限</th>
                                            <th data-hide>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users_data">
                                        {% for item in users %}
                                            <tr>
                                                <td>{{ loop.index }}</td>
                                                <td><img src="{{ url_for('static', filename='img/avatars/'+ item[8])}}" style="width: 100px;"></td>
                                                <td>{{ item[2] }}</td>
                                                <td>{{ item[1] }}</td>
                                                <td>{{ item[3] }}</td>
                                                <td>{{ item[4] }}</td>
                                                <td>{{ item[5] }}</td>
                                                <td>{{ item[6] }}</td>
                                                <td>
                                                    <button class="btn btn-success edituserbtn" data-index="{{ item[0] }}">修正</button>
                                                    <button class="btn btn-warning deluserbtn" data-index="{{ item[0] }}">削除</button>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        <tr >
                                            <td> </td>
                                        </tr>
                                        <!-- Add more rows with similar structure as needed -->
                                    </tbody>
                                </table>
                                
                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <!-- WIDGET END -->

            </div>

            <!-- end row -->

            <!-- row -->

            <div class="row">

                <!-- a blank row to get started -->
                <div class="col-sm-12">
                    <!-- your contents here -->
                </div>

            </div>

            <!-- end row -->

        </section>
        <!-- end widget grid -->

    </div>
    <!-- END MAIN CONTENT -->

</div>
<!-- END MAIN PANEL -->

{% include 'layout/footer.html' %}

{% include 'layout/common-scripts.html' %}

{% include 'layout/manage-scripts.html' %}